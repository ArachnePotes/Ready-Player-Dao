<!DOCTYPE html>

<html
  lang="en"
  class="light-style customizer-hide"
  dir="ltr"
  data-theme="theme-default"
  data-assets-path="assets/"
  data-template="vertical-menu-template-no-customizer"
>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"
    />

    <title>Sneat - Free Bootstrap 5 HTML Admin Template</title>

    <meta name="description" content="" />

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="assets/img/favicon/favicon.ico" />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap"
      rel="stylesheet"
    />

    <!-- Core CSS -->
    <link rel="stylesheet" href="assets/vendor/css/core.css" />
    <link rel="stylesheet" href="assets/vendor/css/theme-default.css" />
    <link rel="stylesheet" href="assets/css/demo.css" />
  </head>

  <body>
    <!-- Content -->
    <div class="container flex-grow-1 container-p-y my-2">
      <h3>Welcome to Your App</h3>
      <p>
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptas qui cumque est aspernatur obcaecati provident
        excepturi, veniam doloremque, soluta, assumenda quibusdam harum similique impedit asperiores a quos porro nobis
        non!
      </p>
      <button id="connectWallet" class="btn btn-primary">Connect to Wallet</button>
    </div>
    <!-- / Content -->

    <script>
      // Function to redirect the user
      function redirectToDashboard() {
        window.location.href = 'html/index.html'; // Replace with your actual dashboard URL
      }

      async function connectAndRedirect() {
        try {
          // Detect MetaMask provider
          
          const provider = await window.ethereum.request({ method: 'eth_requestAccounts' });
          if (provider) {
            //Wallet connected successfully
            redirectToDashboard();
          }
        } catch (error) {
          console.error('Error connecting to MetaMask:', error);
          // Handle error (e.g., show an error message)
          alert('Error connecting to MetaMask. Please make sure you have MetaMask installed and unlocked.');
        }
      }

      // Connect to MetaMask when the button is clicked
      document.getElementById('connectWallet').addEventListener('click', connectAndRedirect);
    </script>
  </body>
</html>
